# AI 무게/부피 추정 오차 분석 종합 리포트

> 작성일: 2026-02-02  
> 데이터셋: `inputs/datasource.tsv` (10,185건)

---

## 1. 분석 개요

### 1.1 목적
AI 모델의 상품 무게/부피 추정 정확도를 분석하고, 오차가 큰 카테고리의 패턴을 파악하여 프롬프트 개선 방향을 도출한다.

### 1.2 오차 계산 방식
```
오차율 = (AI 추정값 - 실측값) / 실측값
```
- **양수(+)**: 과대추정 (AI가 실제보다 크게 추정)
- **음수(-)**: 과소추정 (AI가 실제보다 작게 추정)

### 1.3 판정 기준
| 구분 | 오차율 범위 |
|------|-------------|
| 정확 | -10% ~ +10% |
| 과대추정 | +50% 이상 |
| 과소추정 | -50% 이하 |

---

## 2. 전체 데이터셋 분석

### 2.1 오차 분포 현황
- 전체 건수: **10,185건**
- 과대추정(+50%↑): **891건** (8.7%)
- 과소추정(-50%↓): **4,115건** (40.4%)
- 정확(-10%~+10%): 약 15%

### 2.2 주요 발견
1. **과소추정이 4배 이상 많음** - AI가 실제보다 가볍게 추정하는 경향
2. 무게 오차와 부피 오차 패턴이 유사함

---

## 3. 문제 카테고리 분석

### 3.1 과대추정 TOP 5

| 순위 | 카테고리 | 건수 | 과대추정 비율 | 주요 원인 |
|------|----------|------|---------------|-----------|
| 1 | 보이그룹 인형/피규어 | 168 | 41.7% | 0.3kg 고정 추정 |
| 2 | 키덜트 피규어/인형 | 130 | 24.6% | 0.3kg 고정 추정 |
| 3 | Home Promotion | 20 | 100.0% | 1.5kg 고정 추정 |
| 4 | 걸그룹 포토카드 | 306 | 6.2% | 0.1kg 고정 추정 |
| 5 | 보이그룹 포토카드 | 443 | 4.1% | 0.1kg 고정 추정 |

### 3.2 과소추정 TOP 5

| 순위 | 카테고리 | 건수 | 과소추정 비율 | 주요 원인 |
|------|----------|------|---------------|-----------|
| 1 | 로봇완구 | 466 | 79.6% | 실제 2.8kg인데 0.8kg 추정 |
| 2 | 보이그룹 포토카드 | 443 | 40.6% | 세트상품 미인식 |
| 3 | 걸그룹 포토카드 | 306 | 31.0% | 세트상품 미인식 |
| 4 | 캔디/초콜릿 | 98 | 77.6% | 대용량 상품 미인식 |
| 5 | 볼링가방 | 77 | 89.6% | 실제 7kg인데 1.5kg 추정 |

---

## 4. 카테고리별 오차 패턴 상세

### 4.1 보이그룹 인형/피규어 (o01)

| 항목 | 값 |
|------|-----|
| 오차 방향 | 과대추정 우세 |
| 평균 오차율 | +53.1% |
| AI 고정값 | 0.3kg (63%) |
| 실측 평균 | 313g |
| 상관계수 | 0.41 (중간) |

**문제점**: 작은 피규어(100~200g)에도 일괄 300g 추정

### 4.2 키덜트 피규어/인형 (o02)

| 항목 | 값 |
|------|-----|
| 오차 방향 | 양방향 오차 |
| 평균 오차율 | +7.3% |
| AI 고정값 | 0.3kg (62%) |
| 실측 평균 | 890g |
| 상관계수 | 0.25 (낮음) |

**문제점**: 무게 범위가 넓은데(70g~5.3kg) 고정값 적용

### 4.3 Home Promotion (o03)

| 항목 | 값 |
|------|-----|
| 오차 방향 | 과대추정 우세 (100%) |
| 평균 오차율 | +201.5% |
| AI 고정값 | 1.5kg (95%) |
| 실측 평균 | 505g |
| 상관계수 | 0.11 (낮음) |

**문제점**: 프로모션 상품을 무조건 1.5kg로 추정

### 4.4 포토카드 (o04, o05)

| 항목 | 걸그룹 | 보이그룹 |
|------|--------|----------|
| 오차 방향 | 과소추정 우세 | 과소추정 우세 |
| 평균 오차율 | -20.3% | -31.5% |
| AI 고정값 | 0.1kg (79%) | 0.1kg (75%) |
| 실측 평균 | 277g | 358g |
| 상관계수 | 0.06 (낮음) | 0.12 (낮음) |

**문제점**: 세트상품(수백g~수kg)을 단품(100g)으로 추정

### 4.5 로봇완구 (u01)

| 항목 | 값 |
|------|-----|
| 오차 방향 | 과소추정 우세 (79.6%) |
| 평균 오차율 | -59.2% |
| AI 고정값 | 0.8kg (87%) |
| 실측 평균 | 2.82kg |
| 상관계수 | 0.59 (높음) |

**문제점**: 실제 2~3kg 로봇을 0.8kg로 일괄 추정

### 4.6 캔디/초콜릿 (u04)

| 항목 | 값 |
|------|-----|
| 오차 방향 | 과소추정 우세 (77.6%) |
| 평균 오차율 | -70.9% |
| AI 패턴 | 다양 (0.2kg 55%) |
| 실측 평균 | 3.73kg |
| 상관계수 | 0.21 (낮음) |

**문제점**: 대용량/묶음 상품을 소포장으로 추정

### 4.7 볼링가방 (u05)

| 항목 | 값 |
|------|-----|
| 오차 방향 | 과소추정 우세 (89.6%) |
| 평균 오차율 | -66.9% |
| AI 고정값 | 1.5kg (77%) |
| 실측 평균 | 6.97kg |
| 상관계수 | 0.14 (낮음) |

**문제점**: 볼링공 포함 여부 미인식, 가방만으로 추정

---

## 5. 핵심 발견 사항

### 5.1 AI 고정값 의존 문제
대부분 카테고리에서 AI가 특정 값으로 고정 추정:
- 피규어류: **0.3kg**
- 포토카드류: **0.1kg**
- 완구류: **0.8kg**
- 가방류: **1.5kg**

### 5.2 상관관계 부재
- 대부분 카테고리에서 AI-실측 상관계수 **0.3 미만**
- AI가 실제 무게 변화를 반영하지 못함

### 5.3 이미지만으로 판단 한계
- 포토카드 세트 수량
- 로봇완구 재질/밀도
- 식품 용량
- 가방 내용물 포함 여부

---

## 6. 프롬프트 개선 방향

### 6.1 카테고리별 가이드라인 추가
```
- 피규어/인형: 크기와 재질에 따라 100g~2kg 범위로 추정
- 포토카드: 세트 수량 확인, 앨범/굿즈 포함 시 500g~2kg
- 로봇완구: 일반적으로 2~5kg, 대형은 10kg 이상
- 볼링가방: 볼링공 포함 시 5~8kg
```

### 6.2 세트/묶음 상품 인식 강화
- "세트", "박스", "대용량", "묶음" 키워드 감지
- 이미지에서 다수 상품 포함 여부 확인

### 6.3 고정값 회피 지시
```
특정 값(100g, 300g, 800g 등)으로 고정하지 말고,
상품별 특성을 반영하여 추정하세요.
```

---

## 7. 분석 산출물

### 7.1 생성된 파일

| 파일 | 설명 |
|------|------|
| `.local/tmp/error_analysis/` | 전체 데이터셋 오차 분포 그래프 |
| `.local/tmp/category_datasets/o01-*.tsv` | 과대추정 TOP 5 카테고리 데이터 |
| `.local/tmp/category_datasets/u01-*.tsv` | 과소추정 TOP 5 카테고리 데이터 |
| `.local/tmp/category_datasets/*/` | 카테고리별 오차 분포 그래프 |

### 7.2 분석 스크립트

| 스크립트 | 용도 |
|----------|------|
| `scripts/error_distribution.py` | 오차 구간별 분포 그래프 생성 |
| `scripts/category_pattern_analysis.py` | 카테고리별 오차 패턴 분석 |
| `scripts/extract_error_samples.py` | 오차 상위 N개 이미지 추출 |

---

## 8. 다음 단계

1. [ ] 프롬프트 v2 작성 (카테고리별 가이드라인 포함)
2. [ ] 샘플 테스트 실행
3. [ ] 오차 개선 여부 비교 분석
4. [ ] 반복 개선

---

*본 리포트는 `inputs/datasource.tsv` 기준으로 작성되었습니다.*
